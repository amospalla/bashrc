# FileVersion=45
# www.mutt.org/doc/manual/ 2.6
# apt-get install w3m isync urlview poppler-utils (pdftotext) caca-utils mpv par notmuch-mutt

# set mask="!^\\.[^.]"

### account: jordi@amospalla.es-imap
# set realname            = "Jordi Marqués"
# set from                = "jordi@amospalla.es"
# set use_from            = yes
# set folder              = imaps://amospalla.es/
# set imap_user           = jordi@amospalla.es
# # set imap_pass         = your-imap-password
# set imap_idle           = yes
# set smtp_url            = "smtp://jordi@amospalla.es@amospalla.es:587/"
# # set ssl_force_tls     = yes
# # set ssl_starttls      = yes
# set spoolfile           = +INBOX
# set record              = +INBOX
# set postponed           = +Drafts
# set mbox                = +Archives
# set trash               = +Trash
# mailboxes               = +INBOX
# unmailboxes             = +
# set ssl_verify_host     = no
# set ssl_verify_dates    = no
# set my_tempvar          = `mkdir -p ~/.cache/mutt`
# set header_cache        = "~/.cache/mutt/header_$imap_user"
# set message_cachedir    = "~/.cache/mutt"
# set imap_check_subscribed
# source "$HOME/.muttrc.global"
# # read -s -p password: pass && printf "set imap_pass='${pass}'\nset smtp_pass='${pass}'" | gpg -r jordi@amospalla.es -e > ~/.mutt/jordi@amospalla.es.mutt.gpg
# source "${HOME}/.mutt/bin/read-password.sh ~/.mutt/jordi@amospalla.es.mutt.gpg |"
# bind index,pager gr imap-fetch-mail
### account: jordi@amospalla.es-imap


### account: jordi@amospalla.es-mbsync
# #  * * * * *              pgrep mutt >/dev/null && lock lock -q -f noerror mbsync-jordi@amospalla_es    ~/.mutt/bin/mbsync.sh jordi@amospalla.es       >/dev/null 2>&1 || true
# #  * * * * *    sleep 30; pgrep mutt >/dev/null && lock lock -q -f noerror mbsync-jordi@amospalla_es    ~/.mutt/bin/mbsync.sh jordi@amospalla.es-inbox >/dev/null 2>&1 || true
# macro index gr "<shell-escape>${HOME}/.mutt/bin/mbsync.sh jordi@amospalla.es-inbox<enter>"
# macro index gR "<shell-escape>${HOME}/.mutt/bin/mbsync.sh jordi@amospalla.es      <enter>"
# set realname            = "Jordi Marqués"
# set from                = "jordi@amospalla.es"
# set mbox_type           = Maildir
# set folder              = ~/.Mail/jordi@amospalla.es
# set spoolfile           = ~/.Mail/jordi@amospalla.es/INBOX
# set record              = ~/.Mail/jordi@amospalla.es/INBOX
# set postponed           = ~/.Mail/jordi@amospalla.es/Drafts
# set mbox                = ~/.Mail/jordi@amospalla.es/Archives
# set trash               = +Trash
# # mailboxes `echo -n "+ "; find ~/.Mail/jordi@amospalla.es -maxdepth 4 -type d -name "*" -not \( -name "cur" -or -name "new" -or -name "tmp" \) -printf "+'%p' " | sed "s;${HOME}/.Mail/jordi@amospalla.es/\?;;g"`
# mailboxes `find ~/.Mail/jordi@amospalla.es -maxdepth 4 -type d -name "*" -not \( -name "cur" -or -name "new" -or -name "tmp" \) -printf "+'%p' " | sed "s;${HOME}/.Mail/jordi@amospalla.es/\?;;g" | sed "s/^+''// "`
# set smtp_url            = "smtp://jordi@amospalla.es@amospalla.es:587/"
# # set ssl_force_tls     = yes
# # set sidebar_delim_chars = "/."
# set timeout             = 10
# set net_inc             = 5
# source "$HOME/.muttrc.global"
# # read -s -p password: pass && printf "set imap_pass='${pass}'\nset smtp_pass='${pass}'te" | gpg -r jordi@amospalla.es -e > ~/.mutt/jordi@amospalla.es.mutt.gpg
# # read -s -p password: pass && echo ${pass} | gpg2 -r jordi@amospalla.es -e > ~/.mutt/jordi@amospalla.es.mbsync.gpg
# source "${HOME}/.mutt/bin/read-password.sh ~/.mutt/jordi@amospalla.es.mutt.gpg |"
### account: jordi@amospalla.es-mbsync


### account: jordi.marques@minorisa.net-imap
# set realname            = "Jordi Marqués"
# set from                = "jordi.marques@minorisa.net"
# set use_from            = yes
# # set folder            = imaps://zimbra.ini6.com/
# set folder              = imaps://217.150.209.150/
# set imap_user           = jordi.marques@minorisa.net
# # set imap_pass         = your-imap-password
# set imap_idle           = yes
# # set smtp_url            = "smtp://jordi.marques@minorisa.net@zimbra.ini6.com:587/"
# set smtp_url            = "smtp://jordi.marques@minorisa.net@217.150.209.150:587/"
# # set ssl_force_tls     = yes
# set ssl_starttls        = yes
# set spoolfile           = +INBOX
# set record              = +INBOX
# set postponed           = +Drafts
# set mbox                = +Archives
# set trash               = +Trash
# mailboxes               = +INBOX
# unmailboxes             = imaps://217.150.209.150/
# # set sidebar_delim_chars = "/"
# set my_tempvar          = `mkdir -p ~/.cache/mutt`
# set header_cache        = "~/.cache/mutt/header_$imap_user"
# set message_cachedir    = "~/.cache/mutt"
# set imap_check_subscribed
# source "$HOME/.muttrc.global"
# # read -s -p password: pass && printf "set imap_pass='${pass}'\nset smtp_pass='${pass}'" | gpg2 -r jordi.marques@minorisa.net -e > ~/.mutt/jordi.marques@minorisa.net.mutt.gpg
# source "${HOME}/.mutt/bin/read-password.sh ~/.mutt/jordi.marques@minorisa.net.mutt.gpg |"
# bind index,pager gr imap-fetch-mail
### account: jordi.marques@minorisa.net-imap


### account: jordi.marques@minorisa.net-mbsync
# #  * * * * *              pgrep mutt >/dev/null && lock lock -q -f noerror mbsync-jordi.marques@minorisa_net    ~/.mutt/bin/mbsync.sh jordi.marques@minorisa.net       >/dev/null 2>&1 || true
# #  * * * * *    sleep 30; pgrep mutt >/dev/null && lock lock -q -f noerror mbsync-jordi.marques@minorisa_net    ~/.mutt/bin/mbsync.sh jordi.marques@minorisa.net-inbox >/dev/null 2>&1 || true
# macro index gr "<shell-escape>${HOME}/.mutt/bin/mbsync.sh jordi.marques@minorisa.net-inbox<enter>"
# macro index gR "<shell-escape>${HOME}/.mutt/bin/mbsync.sh jordi.marques@minorisa.net      <enter>"
# set realname            = "Jordi Marqués"
# set from                = "jordi.marques@minorisa.net"
# set mbox_type           = Maildir
# set folder              = ~/.Mail/jordi.marques@minorisa.net
# set spoolfile           = ~/.Mail/jordi.marques@minorisa.net/INBOX
# set record              = ~/.Mail/jordi.marques@minorisa.net/INBOX
# set postponed           = ~/.Mail/jordi.marques@minorisa.net/Drafts
# set mbox                = ~/.Mail/jordi.marques@minorisa.net/Archives
# set trash               = ~/.Mail/jordi.marques@minorisa.net/Trash
# # mailboxes `echo -n "+ "; find ~/.Mail/jordi.marques@minorisa.net -maxdepth 4 -type d -name "*" -not \( -name "cur" -or -name "new" -or -name "tmp" \) -printf "+'%p' " | sed "s;${HOME}/.Mail/jordi.marques@minorisa.net/\?;;g"`
# mailboxes `find ~/.Mail/jordi.marques@minorisa.net -maxdepth 4 -type d -name "*" -not \( -name "cur" -or -name "new" -or -name "tmp" \) -printf "+'%p' " | sed "s;${HOME}/.Mail/jordi.marques@minorisa.net/\?;;g" | sed "s/^+''// "`
# set smtp_url            = "smtp://jordi.marques@minorisa.net@zimbra.ini6.com:587/"
# # set ssl_force_tls     = yes
# set ssl_starttls        = yes
# set timeout             = 10
# set net_inc             = 5
# source "$HOME/.muttrc.global"
# # read -s -p password: pass && printf "set imap_pass='${pass}'\nset smtp_pass='${pass}'" | gpg -r jordi.marques@minorisa.net -e > ~/.mutt/jordi.marques@minorisa.net.mutt.gpg
# source "${HOME}/.mutt/bin/read-password.sh ~/.mutt/jordi.marques@minorisa.net.mutt.gpg |"
# macro index,pager A "<tag-thread><tag-prefix><save-message>=folders/.proveidors/.altres<enter><next-new-then-unread>"
### account: jordi.marques@minorisa.net-mbsync


### account: jordi.marques@minorisa.net-exchange-imap
# set realname            = "Jordi Marqués"
# set from                = "jordi.marques@minorisa.net"
# set use_from            = yes
# set folder              = imaps://outlook.office365.com/
# set imap_user           = jordi.marques@minorisa.net
# # set imap_pass         = your-imap-password
# set imap_idle           = yes
# set smtp_url            = "smtp://jordi.marques@minorisa.net@outlook.office365.com:587/"
# # set ssl_force_tls     = yes
# set ssl_starttls        = yes
# set spoolfile           = +INBOX
# set record              = +INBOX
# set postponed           = +Borradores
# set mbox                = +Archivo
# set trash               = +Trash
# mailboxes               = +INBOX
# unmailboxes             = imaps://outlook.office365.com/
# # set sidebar_delim_chars = "/"
# set my_tempvar          = `mkdir -p ~/.cache/mutt`
# set header_cache        = "~/.cache/mutt/header_$imap_user"
# set message_cachedir    = "~/.cache/mutt"
# set imap_check_subscribed
# source "$HOME/.muttrc.global"
# # read -s -p password: pass && printf "set imap_pass='${pass}'\nset smtp_pass='${pass}'" | gpg -r jordi.marques@minorisa.net -e > ~/.mutt/jordi.marques@minorisa.net-exchange.mutt.gpg
# source "${HOME}/.mutt/bin/read-password.sh ~/.mutt/jordi.marques@minorisa.net-exchange.mutt.gpg |"
# bind index,pager gr imap-fetch-mail
### account: jordi.marques@minorisa.net-exchange-imap

macro index,pager B "<pipe-message> ~/.mutt/bin/remove-with-same-subject /tmp/remove-with-same-subject >/tmp/remove-with-same-subject.debug 2>&1<enter><enter-command>source /tmp/remove-with-same-subject<enter>"

set new_mail_command = "notify-send -t 3 '%v: New Mail in %f'"

# Search inbox
macro index <F3> \
"<enter-command>set my_old_pipe_decode=\$pipe_decode my_old_wait_key=\$wait_key nopipe_decode nowait_key<enter>\
<shell-escape>notmuch-mutt -r --prompt search<enter>\
<change-folder-readonly>`echo ${XDG_CACHE_HOME:-$HOME/.cache}/notmuch/mutt/results`<enter>\
<enter-command>set pipe_decode=\$my_old_pipe_decode wait_key=\$my_old_wait_key<enter>" \
"notmuch: search mail"

# Create threads from search results
macro index <F4> \
"<enter-command>set my_old_pipe_decode=\$pipe_decode my_old_wait_key=\$wait_key nopipe_decode nowait_key<enter>\
<pipe-message>notmuch-mutt -r thread<enter>\
<change-folder-readonly>`echo ${XDG_CACHE_HOME:-$HOME/.cache}/notmuch/mutt/results`<enter>\
<enter-command>set pipe_decode=\$my_old_pipe_decode wait_key=\$my_old_wait_key<enter>" \
"notmuch: reconstruct thread"

# Tag search results
macro index <F5> \
"<enter-command>set my_old_pipe_decode=\$pipe_decode my_old_wait_key=\$wait_key nopipe_decode nowait_key<enter>\
<pipe-message>notmuch-mutt tag -- -inbox<enter>\
<enter-command>set pipe_decode=\$my_old_pipe_decode wait_key=\$my_old_wait_key<enter>" \
"notmuch: remove message from inbox"

set my_tempvar          = `mkdir -p ~/.mutt/bin`

unset confirmappend

# this file must exist, and contains your signature, comment it out if
# you don't want a signature to be used
# set signature = ~/.signature

# make sure Vim knows Mutt is a mail client and that a UTF-8 encoded message will be composed
set editor="vim -c 'set syntax=mail ft=mail enc=utf-8'"
# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things up even more.

set delete=yes

folder-hook . "push <collapse-all>\n"

# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.

# Specify where to save and/or look for postponed messages.
# set postponed = +[Gmail]/Drafts

# Allow Mutt to open a new IMAP connection automatically.
unset imap_passive

# Keep the IMAP connection alive by polling intermittently (time in seconds).
set imap_keepalive = 300

# How often to check for new mail (time in seconds).
set mail_check = 30

set sort=threads
set strict_threads=yes
set sort_browser=alpha
set sort_aux=reverse-last-date-received

auto_view text/html                                      # view html automatically
alternative_order text/plain text/enriched text/html     # save html for last

set sleep_time = 1
set include=yes

macro pager ,@aoh= "\
<enter-command> unalternative_order *; \
alternative_order text/enriched text/html text/plain text;\
macro pager H ,@aot= 'toggle alternative order'<enter>\
<exit><display-message>"

macro pager ,@aot= "\
<enter-command> unalternative_order *; \
alternative_order text/enriched text/plain text/html text;\
macro pager H ,@aoh= 'toggle alternative order'<enter>\
<exit><display-message>"

macro pager H ,@aot= "toggle alternative order"

bind index,pager S sidebar-toggle-visible
bind index       za collapse-thread
bind index       zc collapse-thread
bind index       zo collapse-thread
bind index       zr collapse-all
bind index       zm collapse-all
bind index       zt tag-thread
bind index,pager zd delete-thread
bind index,pager zn next-thread
bind index,pager zp previous-thread
bind index,pager zr read-thread
bind index,pager zu undelete-thread
bind index,pager zk parent-message
bind index,pager z0 root-message

set pager_context=5				
#Paging down a message leaves 5 lines of overlap, so you don't get lost.

unset collapse_unread      # don't collapse threads with unread mails
set   uncollapse_jump      # jump to unread message when uncollapse
set   copy                 # save copies of sent messages
#set   delete               # don't ask me to delete messages - just do it!
set   edit_headers         # display the headers when I'm editing a message
unset mark_old             # don't mark unread messages as Old
set   help                 # show help on first line of display
# unset menu_scroll          # scroll menu a page on last line
set   narrow_tree          # narrow threading trees

set tilde
unset resolve
set pager_index_lines=15

bind generic,index,browser J next-entry
bind generic,index,browser K previous-entry
bind index  j next-undeleted
bind index  k previous-undeleted
bind pager  j next-line
bind pager  k previous-line
bind pager  J next-entry
bind pager  K previous-entry

bind index,pager <BackTab> next-unread-mailbox

set mailcap_path	= ~/.mutt/mailcap

bind index        r toggle-new
#bind pager        r mark-as-new

macro index,pager d "<delete-message><next-undeleted>"
macro index,pager D "<delete-thread><next-undeleted>"
# bind index,pager  d delete-message
bind index,pager  u undelete-message

macro index,pager t "<tag-entry><next-undeleted>"

bind generic,index,pager  / search
bind generic,index,pager  n search-next
bind generic,index,pager  p search-opposite

bind pager    <Return> noop

bind pager        Q skip-quoted
bind generic,index,pager \Cf next-page
bind generic,index,pager \Cb previous-page
bind index,pager w sync-mailbox
# bind generic,pager,browser,attach,compose,pgp,smime,postpone,query <esc> exit

set query_command= "khard email --parsable %s"
bind editor <Tab> complete-query
bind editor ^T    complete

set sort_browser   = alpha

set beep_new = no
set beep = yes

color sidebar_new  red default
set sidebar_width         = 40
set sidebar_visible       = yes
# set sidebar_sort_method   = path
# set sidebar_short_path    = yes            # Shorten mailbox names
#set sidebar_folder_indent = yes               # Indent folders whose names we've shortened
set sidebar_indent_string = "  "          # Indent with two spaces
set mail_check_stats                ## Need for sidebar_format's %N
## '%B' mailbox name;   '%?F? [%F]?' If flag, show flag;    '%* ' pad spaces;   '%?N?%N/?' if new, show new with '/' char; '%?S?%S?' if size, show size.
# set sidebar_format = '%B%?F? [%F]?%* %?N?%N/?%?S?%S?'
set sidebar_format = '%B%?F? [%F]?%* %?N?%N'
color sidebar_indicator default color17         # Dark blue background
color sidebar_highlight white   color238        # Grey background
color sidebar_spoolfile yellow  default         # Yellow
color sidebar_new       green   default         # Green
# color sidebar_ordinary  default default         # Default colors
color sidebar_flagged   red     default         # Red
color sidebar_divider   color8  default         # Dark grey
set sidebar_new_mail_only = yes

set wait_key = no ## Shut up, mutt

set quit = yes     ## Don't ask, just do !!
set text_flowed = yes ## Generate text/plain; format=flowed attachments.

set status_chars = " *%A"
set status_on_top = yes
set status_format = "[$from] Folder: %f : %r%n new (%m messages)%?d? (%d to delete)?%?t? (%t tagged)? %>-%?p?( %p postponed )? : "

color body       red                    color16         "[Jj]ordi [Mm]arqu[eé]s"

# Color the attribution-line in order of the quoted lines.
color body       brightblue             default         "^[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
color body       brightred              default 	  "^>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
color body       brightmagenta   	  default 	 "^>[ ]?>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							 <F3>schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"

# set date_format = "%y%m%d %h%d"
# set index_format = "[%Z] %<[y?%<[7d?%<[d?%[%H:%M ]&%[%a %d]>&%[%b %d]>&%[%Y %b %d]> %-20.20F %s%> %g (%4c){%X}"
# Default
# set index_format = "%4C %Z %{%b %d} %-15.15L (%?l?%4l&%4c?) %s"
set index_format = "%4C [%Z] %[%Y-%m-%d %H:%M] %-27.27a %-25.25n (%?l?%4l&%4c?) %?X?%X& ? %M %s"

## Ctrl-R to mark all as read
macro index \Cr "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"

bind index,pager            {   previous-thread
bind index,pager            }   next-thread
#bind index,browser,pager    g   noop
bind pager                  gg  top
bind pager                  G   bottom
bind index,browser          gg  first-entry
bind index,browser          G   last-entry
##bind index                  H   top-page
bind index,browser          M   middle-page
bind index,browser          L   bottom-page
# bind pager                  H   top
bind pager                  L   bottom
bind pager,browser          <space> next-page
bind pager ] skip-quoted

set pager_stop=yes # Don't skip to next message at end of message

bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open

#bind index,pager r  noop
bind index,pager rr reply
bind index,pager ra group-reply

# character set on sent messages
set send_charset="utf-8"
# if there is no character set given on incoming messages, it is probably windows
set assumed_charset="iso-8859-1"

# just scroll one line instead of full page
set menu_scroll=yes

# we want to see some MIME types inline, see below this code listing for explanation
# auto_view application/msword
# auto_view application/pdf

# make default search pattern to search in To, Cc and Subject
set simple_search="~f %s | ~C %s | ~s %s"

# show spam score (from SpamAssassin only) when reading a message
spam "X-Spam-Score: ([0-9\\.]+).*" "SA: %1"
set pager_format = " %C - %[%H:%M] %.20v, %s%* %?H? [%H] ?"

# # do not show all headers, just a few
# ignore          *
# unignore        From To Cc Bcc Date Subject Mailer
# # and in this order
# unhdr_order     *
# hdr_order       Mailer: From: To: Cc: Bcc: Date: Subject:

# brighten up stuff with colors, for more coloring examples see:
# http://aperiodic.net/phil/configs/mutt/colors
color normal      white          black
color hdrdefault  green          default
color quoted      green          default
color quoted1     yellow         default
color quoted2     red            default
color signature   cyan           default
color indicator   color9         color16  
color error       brightred      default
color status      brightwhite    blue
color tree        brightmagenta  black
color tilde       blue           default
color attachment  brightyellow   default
color markers     brightred      default
color message     white          black
color search      brightwhite    magenta
color bold        brightyellow   default
color header         color46     default "^(From|Subject):"

macro index gi "<change-folder> =INBOX"<enter>

macro index,pager c "<change-folder>?<toggle-mailboxes>/\Cu"
macro index,pager s "<save-message>?<toggle-mailboxes>/\Cu"
macro index,pager C "<copy-message>?<toggle-mailboxes>/\Cu"


# (ftp|web) address without "http"
  color body       blue                   white           "(ftp|www)\\.[-.a-z0-9]+\\.[a-z][a-z][a-z]?([-_./~a-z0-9]+)?"
#  <URL:http://strcat.neessen.net/>
  color body       brightcyan             default         "<URL:[^ ]*>"
# Mailto links with a optional subject line i. e.
# 'mailto:strcat@gmx.net?subject=i+love+you
  color body       brightred              black           "mailto: *[^ ]+\(\\?subject=[^ ]+\)?"
# File names i. e. '/path/file'
  color body       color76                black           "\\~?\(/[-_.,a-zA-Z0-9{}äöüß]+\)+"
# Path names i. e. '/path/'
  color body       brightred              black           "\(/[-_.a-zA-Z0-9]+\)+/"
# URLs 
  color body       blue                   white           "(gopher|finger|ftp|http|telnet)://[^ >]*"
  color body       blue                   default         "news:[^ \">\t\r\n]*"
# HTTP addresses
  color body       yellow                 blue            "[[:alnum:]][-+.#_[:alnum:]]*@[-+.[:alnum:]]*[[:alnum:]]"
# HTTPS addresses
  color body       color222               default         "https://[^ >]*"
# Variables  i. e. '$LOGNAME' or '$0'
  color body       green                  black           "\\$[a-zA-Z][-_a-zA-Z]+"
  color body       green                  black           "\\$[0-9]+[.,0-9]*"
# Attribution line (i. e. '* Username wrote:')
  color body       red                    black           "^[*] .*:$"
# SCREAMING IN CAPS
  color body       brightyellow           black           "\\<[-A-ZÖÜßÄ']{4,}\\>"
# Smilies ;)
# Above is split into 5 parts:
#  [ \t]          -> Must start with a space or tab. (some pastings of command
#                    line promts have ":/" in them.
#  >?             -> An optional ">" - A frown.
#  [;:]           -> The eyes
#  [-=]?          -> optional nose.
#  [PpD)/(|}{><]  -> different mouths.
# color body brightyellow black "[ \t]>?[;:][-=]?[PpD)/(|}{><]"
# 
# Note the intentional [], which isn't a [] at all. To put a ']' in a
# character list, the ']' must be the first character listed. To match a '-',
# put it first or last.
# color body brightyellow black "(^|[ \t])>?[;:8=][-^]?[][PpD)/(|}{><]"
#  color body      black                  yellow          "[;:]-[)/(|]"
  color body       brightyellow           black          "(^|[[:space:]]+)[;:=]-*[)/(<pPoDOQ]+($|[[:space:]]+)"
#  color body       brightyellow black                    "([*]?[{}><]?[;:][-=o^]?[][)(*><|DPpd\\/][)(]?)"
#  color body       brightyellow black                    "([{}]?[8][-=o^][)(><|DPpd\\/][)(]?)"
#  color body       brightyellow black                    "([)(]?[><|\\/(][-=o^]?[8;:][{}]?)"
# more interesting words
  color  body       brightmagenta         black           "Artistic License"
  color  body       brightmagenta         black           "BSD License"
  color  body       brightmagenta         black           "GNU (Lesser )?General Public License"
  color  body       brightmagenta         black           "L?GPL"
  color  body       brightmagenta         black           "MIT/X Consortium License"
  color  body       brightmagenta         black           "OSI Approved"
  color  body       brightmagenta         black           "Public Domain"
  color  body       red                   black           "Free Software"
  color  body       red                   black           "Open Source"
  color  body       red                   black           "[sS]lashdot"
  color  body       red                   black           "[nN]ews[fF]orge"
  color  body       red                   black           "[sS]ource[fF]orge"
# Border lines.
  color body cyan black "( *[-+=#*~_]){6,}"
# *Emphasized*, /emphasized/, -strike-throut- and _emphasized_ words
#  TODO: Fix the regex for '-strike-through-'.
  color body       yellow                 blue            "[*][-[:alnum:]]+[*]"                 # *bold*
  color body       yellow                 blue            "[*][-[:alnum:]]+ *[-[:alnum:]]+[*]"  # *really bold*
  color body       yellow                 blue            "/[-[:alnum:]]+/"                     # /emphasized/
#  color body      yellow                 blue            "[-]+[-[[:alnum:]]+[-]{1}"            # -strike-through-
  color body       yellow                 blue            "_[-[:alnum:]]+_"                     # _underline_

# '*g*' is /Default/ but Doomy writes '<g>' .. never mind .. i'm flexible <g>.. aehm.. *g*
  color body       brightblue             white           "<[Gg]>"
  color body       brightblue             white           "<[Bb][Gg]>"
  color body       brightblue             white           "<[fF][Gg]>"
  color body       brightblue             white           "<[eE][Gg]>"
# '$ dict B1FF' all right???!!!11!
  color body       red                    white           "[!?]{3,}"
# some acronyms
  color body       black                  brightyellow    "[*]?((N)?ACK|CU|LOL|SCNR|BRB|BTW|CWYL|FWIW|vbg|GD&R|HTH|HTHBE|IMHO|IMNSHO|IRL|RTFM|ROTFL|ROFL|YMMV)[*]?"
# Make MONEY!!!11!
# *lol* murphys on tour and his law is right waiting for you.
# Original attribution-line from a mail:
# > "On Sat, Sep 06, 2003 at 11:08:22PM +0200, Mark wrote:"
# and now take a quick look at this ==>   ^^^^^^^^^ 
# You see? ;) shit happens and that doesn't interest me.
  color body       black                  yellow          "[0-9]+[,.][0-9]* *pf/min"
  color body       black                  yellow          "(dm|euro?|\$\$\$) *[1-9][0-9]*([.,][0-9]*-?-?)?"
  color body       black                  yellow          "[1-9][0-9.,]*(--?|[0-9][0-9])? *(dm|euro?|mark|\$\$\$)"
  color body       black                  yellow          "[1-9][0-9]? *(cents?|pfennig)"
# Highlight a hint to manpage a lá 'command(1)' (i. e. "ls(1)") .. capable of
# being extended.
# Note: Use the second regex to resolve 'login.conf(5)', 'mount_null(8)',
#       'pkg-config(1)' and 'pop(3)d'.
  color body       black                  red             "[[:alpha:]]+[-_.]?[[:alpha:]]+\\([0-9]\\)?"
# copyright, registered, trademark: (c), (r), [tm]
  color body       brightyellow           black           "([(](c|r)[)]|\\[tm\\])"
# "<li>..</li>"
  color body       brightred              black           "^ *[-*] +"
# local network's
  color body       brightblack            blue            "192.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}"
# highlight the most used OS' in different colors
  color body       blue                   yellow          "(freebsd|netbsd|openbsd|solaris|gentoo)"
  color body       blue                   default         "[Ww]in(do(ze|dows|of)|zigweich)"
  color body       white                  red             "(linux *)?(debian|mandrake|slackware|redhat|suse) *(linux)? *[0-9][.][0-9]"
  color body       blue                   default         "[Ww]indows[- ]?(3[.]11|95|98|9x|[Nn][Tt]|2k|2000|[Mm][Ee]|[Xx][Pp])"
# Color the attribution-line in order of the quoted lines.
  color body       brightblue             default         "^[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
  color body       brightred              default 	  "^>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							  schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
  color body       brightmagenta   	  default 	 "^>[ ]?>[^>].*(wrote|writes|said|says|schrieb|schreibt|schrub|\
							 <F3>schreibselte|tippte|meinte|teilte folgendes mit|escreveu|escribió|scripsit|[0-9]+\\]|\\.[a-z]{2,4}>).*:"
# GPG / PGP / t-prot (<http://www.escape.de/users/tolot/mutt/>)
  color body       green                  black           "^#v[+-]"
  color body       brightmagenta          black           "^\\[---.*"
  color body       color241               default         "^gpg:.*"
  color body       brightred              default         "^(gpg: )?Bad signature.*"
  color body       red                    default         "^(gpg: )?warning:.*"
  color body       red                    default         "^(gpg: ).*failed:.*"
  color body       color241               default         "^Primary key fingerprint:.*"
  color body       brightblack            yellow          "-----END PGP PUBLIC KEY BLOCK-----"
  color body       brightblack            yellow          "-----BEGIN PGP PUBLIC KEY BLOCK-----"
  color body       black                  yellow          "Version: GnuPG v1.[01].[67].*"
# [ first | second | third ]
  color body       brightyellow           brightred       <'\[ [-a-z ]+ (\| [-a-z ]+)+ \]'

source /usr/local/share/doc/neomutt/colorschemes/vombatidae.neomuttrc

# color index cyan default '~f user@example.com'
# color header      brightcyan     default "^(From|Subject):"
# if you don't like the black progress bar at the bottom of the screen,
# comment out the following line
# color progress    white          black
#
# source `FILE=$HOME/.muttaliases; if [ ! -s "$FILE" ]; then FILE=/dev/null;fi;echo "$FILE"`

# the script generates a config file
# ` source '~/bin/detectgui.sh|'`

################################################################################
####   Flags   #################################################################
################################################################################

# | flag | Message status flags           |
# |------|--------------------------------|
# | r    | replied                        |
# | N    | new                            |
# | O    | old                            |
# | D    | deleted                        |
# | d    | attachment marked for deletion |
# | *    | tagged                         |
# | K    | contains GPG public key        |
# | P    | PGP encrypted                  |
# | !    | flagged                        |
# | s    | messaged signed                |
# | S    | messaged signed and verified   |
# | n    | thread contains new messages   |
# | o    | thread contains old messages   |

# | flag | Message recipient flags         |
# |------|---------------------------------|
# | +    | message to you only             |
# | T    | message to you and CC           |
# | C    | you are in CC                   |
# | F    | message from you                |
# | L    | message sent to a subscribed ML |

################################################################################
####   Key Bindings   ##########################################################
################################################################################

# Entry based:                                                                              Page based:
#      ^b                                                                                   M <enter-command> set my_pipe... call urlview to extract URLs out of a message                     #
#      ^d delete-thread                                                                     ==                                                                                                 #
#      ^e edit-type                  edit attachment content type                           ==                                                                                                 #
#      \t next-new-then-unread       next new/unread message                                ==                                                                                                 #
#   Esc\t previous-new-then-unread   previous new/unread message                                                                                                                               #
#   enter display-message            display a message                                      next-line                                                                                          #
#   space display-message                                                                   next-page                                                                                          #
#      ^n next-thread                                                                       ==                                                                                                 #
#      ^p previous-thread                                                                   ==                                                                                                 #
#      ^r read-thread                mark thread read                                       ==                                                                                                 #
#      ^t untag-pattern              untag messages matching a pattern                                                                                                                         #
#      ^u undelete-thread                                                                   ==                                                                                                 #
#   Esc V collapse-all               collapse/uncollapse                                                                                                                                       #
#   Esc v collapse-thread                                                                                                                                                                      #
#      za collapse-thread                                                                                                                                                                      #
#   Esc b M <search>~b               search in message bodies                                                                                                                                  #
#   Esc d delete-subthread           delete all messages in subthread                       ==                                                                                                 #
#   Esc e resend-message             use the current message as a template for a new one    ==                                                                                                 #
#   Esc l show-limit                 show currently active limit pattern                                                                                                                       #
#   Esc n next-subthread                                                                    ==                                                                                                 #
#   Esc p previous-subthread                                                                ==                                                                                                 #
#   Esc r read-subthread             mark the current subthread as read                     ==                                                                                                 #
#   Esc t tag-thread                                                                                                                                                                           #
#   Esc u undelete-subthread                                                                ==                                                                                                 #
#       $ sync-mailbox               save changes to mailbox                                ==                                                                                                 #
#       % toggle-write               toggle whether the mailbox will be rewritten                                                                                                              #
#       & link-threads               link tagged message to the current one                 ==                                                                                                 #
#       . buffy-list                 list mailboxes with new mail                           ==                                                                                                 #
#       @ display-address            display full address of sender                         ==                                                                                                 #
#       B sidebar-toggle-visible                                                                                                                                                               #
#       C copy-message               copy a message to a file/mailbox                       ==                                                                                                 #
#       D delete-pattern             delete messages matching a pattern                                                                                                                        #
#       F flag-message               toggle a message's 'important' flag                    ==                                                                                                 #
#       J next-entry                 move to the next entry                                 ==                                                                                                 #
#       K previous entry                                                                    ==                                                                                                 #
#       L list-reply                 reply to specified mailing list                        ==                                                                                                 #
#       N toggle-new                 toggle a message's 'new' flag                          mark-as-new                                                                                        #
#       O sort-reverse               sort messages in reverse order                         ==                                                                                                 #
#       P parent-message             jump to parent message in thread                       ==                                                                                                 #
#       Q query                      query external program for addresses                   quit                                                                                               #
#       R recall-message             recall a postponed message                             ==                                                                                                 #
#       S                                                                                   skip-quoted (skip beyond quoted text)
#       T tag-pattern                tag messages matching a pattern                        toggle-quoted (toggle display of quoted text)                                                      #
#       U undelete-pattern           undelete messages matching a pattern                   clear-flag (a status flag)                                                                         #
#       W clear-flag                 clear a status flag from a message                                                                                                                        #
#       Y edit-label                 add/change/delete a message's label                    ==                                                                                                 #
#       \                                                                                   search-toggle (coloring)                                                                                    #
#       a create-alias               create an alias from a message sender                  ==                                                                                                          #
#       b bounce-message             remail a message to another user                       ==                                                                                                 #
#       c change-folder                                                                     ==                                                                                                 #
#       d delete-message                                                                    ==                                                                                                 #
#       e edit                       edit the raw message                                   ==                                                                                                 #
#       f forward-message                                                                   ==                                                                                                 #
#       g group-reply                reply to all recipients                                ==                                                                                                 #
#       h display-toggle-weed        display message and toggle header weeding              ==                                                                                                 #
#       i                                                                                   exit (menu)                                                                                                 #
#       j next-undeleted                                                                    ==                                                                                                          #
#       k previous-undeleted                                                                ==                                                                                                 #
#       l limit                      show only messages matching a pattern                                                                                                                     #
#       m mail                                                                              ==                                                                                                 #
#       o sort-mailbox                                                                      ==                                                                                                 #
#       q quit                       save changes to mailbox and quit                       exit (menu)                                                                                   #
#       r reply                                                                             ==                                                                                                 #
#       s save-message               save message/attachment to a mailbox/file              ==                                                                                                 #
#       t                                                                                   tag-message                                                                                        #
#       u undelete-message                                                                  ==                                                                                                 #
#       v view-attachments                                                                  ==                                                                                                 #
#       w set-flag                   set a status flag on a message                         ==                                                                                                 #
#       x exit                       exit this menu                                         exit (menu)                                                                                        #
#       y M <change-folder>?<toggle-mailboxes> show incoming mailboxes list                 ==                                                                                                 #
#       | pipe-message               pipe message/attachment to a shell command             ==                                                                                                 #
#       ~ mark-message               create a hotkey macro for the current message                                                                                                             #
# backspc                                                                                   previous-line                                                                                      #
#    down next-undeleted                                                                                                                                                                       #
#      up previous-undeleted                                                                                                                                                                   #
#   enter display-message                                                                                                                                                                      #
#                                                                                                                                                                                              #
# Generic bindings:                                                                                                                                                                            #
# return select-entry                                                                        next-line                                                                                         #
#     ^L refresh                                                                                                                                                                               #
#  Esc / search-reverse              search backwards for a regular expression               ==                                                                                                #
#      ! shell-escape                invoke a command in a subshell                          ==                                                                                                #
#      * last-entry                  move to the last entry                                                                                                                                    #
#      -                                                                                     previous-page                                                                                     #
#      / search                      search for a regular expression                         ==                                                                                                #
#    1-9 jump                        jump to an index numer                                  ==                                                                                                #
#      : enter-command               enter a muttrc command                                  ==                                                                                                #
#      ; tag-preffix                 apply next function to tagged messages                                                                                                                    #
#      < previous-line                                                                                                                                                                         #
#      = first-entry                                                                                                                                                                           #
#      > next-line                                                                                                                                                                             #
#      H top-page                                                                                                                                                                              #
#      L bottom-page                                                                                                                                                                           #
#      M middle-page                                                                                                                                                                           #
#      Z previous-page                                                                                                                                                                         # 
#      [ half-up                                                                                                                                                                               #
#      ] half-down                                                                                                                                                                             #
#      j next-entry                                                                                                                                                                            #
#      k previous-entry                                                                                                                                                                        #
#      n search-next                                                                ==                                                                                                         #
#      q exit                        exit this menu                                                                                                                                            #
#      t tag-entry                   tag the current entry                                                                                                                                     #
#      z next-page                                                                                                                                                                             #
#   down next-entry                                                                                                                                                                            #
#     up previous-entry                                                                                                                                                                        #
#   left previous-page                                                                                                                                                                         #
#  right next-page                                                                                                                                                                             #
#   home first-entry                                                                                                                                                                           #
#  enter select-entry                                                                                                                                                                          #
#        next-unread-mailbox         open next mailbox with new mail                                                                                                                           #
#        imap-fetch-mail                                                                                                                                                                       #
#        next-new                    jump to the next new message                                                                                                                              #
#        previous-new                                                                                                                                                                          #
#        next-unread                                                                                                                                                                           #
#        previous-unread                                                                                                                                                                       #
#        root-message                jump to the root message in thread                                                                                                                        #
#        sidebar-next                move the highlight to next mailbox                                                                                                                        #
#        sidebar-next-new            move the highlight to next mailbox with new mail                                                                                                          #
#        sidebar-open                open highlighted mailbox                                                                                                                                  #
#        sidebar-page-down           scroll the sidebar down 1 page                                                                                                                            #
#        sidebar-page-up                                                                                                                                                                       #
#        sidebar-prev                                                                                                                                                                          #
#        sidebar-prev-new                                                                                                                                                                      #
#        search-opposite             search for tnext match in opposite direction                                                                                                              #
#        current-top                 move entry to top of screen                                                                                                                               #
#        current-middle                                                                                                                                                                        #
#        current-bottom                                                                                                                                                                        #
#        what-key                    display the keycode for a key press                                                                                                                       #


# Mode browser
# Entry based:                                                                              Page based:

#   enter display-message            display a message                                      next-line                                                                                          #
#   space display-message                                                                   next-page                                                                                          #

# * zm/zr collapse-all               collapse/uncollapse                                                                                                                                       #
# * za/zc collapse-thread                                                                                                                                                                      #
# *    zt tag-thread                                                                                                                                                                           #
# *    zd delete-thread                                                                     ==                                                                                                 #
# *    zn next-thread                                                                       ==                                                                                                 #
# *    zp previous-thread                                                                   ==                                                                                                 #
# *    zr read-thread                mark thread read                                       ==                                                                                                 #
# *    zu undelete-thread                                                                   ==                                                                                                 #
#   Esc d delete-subthread           delete all messages in subthread                       ==                                                                                                 #
#   Esc n next-subthread                                                                    ==                                                                                                 #
#   Esc p previous-subthread                                                                ==                                                                                                 #
#   Esc r read-subthread             mark the current subthread as read                     ==                                                                                                 #
#   Esc u undelete-subthread                                                                ==                                                                                                 #
#       & link-threads               link tagged message to the current one                 ==                                                                                                 #
# *    zk parent-message             jump to parent message in thread                       ==                                                                                                 #
# *    z0 root-message                jump to the root message in thread                                                                                                                        #

#       J next-entry                 move to the next entry                                 ==                                                                                                 #
#       K previous-entry                                                                    ==                                                                                                 #
#      \t next-new-then-unread       next new/unread message                                ==                                                                                                 #
#   Esc\t previous-new-then-unread   previous new/unread message                                                                                                                               #

#       c change-folder                                                                     ==                                                                                                 #
#       y M <change-folder>?<toggle-mailboxes> show incoming mailboxes list                 ==                                                                                                 #

#       m mail                                                                              ==                                                                                                 #
#       r reply                                                                             ==                                                                                                 #
#       g group-reply                reply to all recipients                                ==                                                                                                 #
#       f forward-message                                                                   ==                                                                                                 #
#   Esc e resend-message             use the current message as a template for a new one    ==                                                                                                 #
#       L list-reply                 reply to specified mailing list                        ==                                                                                                 #
#       b bounce-message             remail a message to another user                       ==                                                                                                 #

#       F flag-message               toggle a message's 'important' flag                    ==                                                                                                 #
# *     r toggle-new                 toggle a message's 'new' flag                          mark-as-new                                                                                        #

# *     Q                                                                                   skip-quoted (skip beyond quoted text)
#       T tag-pattern                tag messages matching a pattern                        toggle-quoted (toggle display of quoted text)                                                      #

# *    dd delete-message                                                                    ==                                                                                                 #
# *    du undelete-message                                                                  ==                                                                                                 #
# *     j next-undeleted                                                                    ==                                                                                                          #
# *     l previous-undeleted                                                                ==                                                                                                 #

#       v view-attachments                                                                  ==                                                                                                 #

#      / search                      search for a regular expression                         ==                                                                                                #
#      n search-next                                                                ==                                                                                                         #

# *  \Cf next-page                                                                                                                                                                             #
# *  \Cb                                                                                     previous-page                                                                                     #

#      ^b                                                                                   M <enter-command> set my_pipe... call urlview to extract URLs out of a message                     #
#      ^e edit-type                  edit attachment content type                           ==                                                                                                 #
#      ^t untag-pattern              untag messages matching a pattern                                                                                                                         #
#   Esc b M <search>~b               search in message bodies                                                                                                                                  #
#   Esc l show-limit                 show currently active limit pattern                                                                                                                       #
#       $ sync-mailbox               save changes to mailbox                                ==                                                                                                 #
#       % toggle-write               toggle whether the mailbox will be rewritten                                                                                                              #
#       . buffy-list                 list mailboxes with new mail                           ==                                                                                                 #
#       @ display-address            display full address of sender                         ==                                                                                                 #
#       B sidebar-toggle-visible                                                                                                                                                               #
#       C copy-message               copy a message to a file/mailbox                       ==                                                                                                 #
#       D delete-pattern             delete messages matching a pattern                                                                                                                        #
#       O sort-reverse               sort messages in reverse order                         ==                                                                                                 #
#       Q query                      query external program for addresses                   quit                                                                                               #
#       R recall-message             recall a postponed message                             ==                                                                                                 #
#       U undelete-pattern           undelete messages matching a pattern                   clear-flag (a status flag)                                                                         #
#       W clear-flag                 clear a status flag from a message                                                                                                                        #
#       Y edit-label                 add/change/delete a message's label                    ==                                                                                                 #
#       \                                                                                   search-toggle (coloring)                                                                                    #
#       a create-alias               create an alias from a message sender                  ==                                                                                                          #
#       e edit                       edit the raw message                                   ==                                                                                                 #
#       h display-toggle-weed        display message and toggle header weeding              ==                                                                                                 #
#       i                                                                                   exit (menu)                                                                                                 #
#       l limit                      show only messages matching a pattern                                                                                                                     #
#       o sort-mailbox                                                                      ==                                                                                                 #
#       q quit                       save changes to mailbox and quit                       exit (menu)                                                                                   #
#       s save-message               save message/attachment to a mailbox/file              ==                                                                                                 #
#       t                                                                                   tag-message                                                                                        #
#       w set-flag                   set a status flag on a message                         ==                                                                                                 #
#       x exit                       exit this menu                                         exit (menu)                                                                                        #
#       | pipe-message               pipe message/attachment to a shell command             ==                                                                                                 #
#       ~ mark-message               create a hotkey macro for the current message                                                                                                             #
# backspc                                                                                   previous-line                                                                                      #
#    down next-undeleted                                                                                                                                                                       #
#      up previous-undeleted                                                                                                                                                                   #
#   enter display-message                                                                                                                                                                      #
#                                                                                                                                                                                              #
# Generic bindings:                                                                                                                                                                            #
# return select-entry                                                                        next-line                                                                                         #
#     ^L refresh                                                                                                                                                                               #
#  Esc / search-reverse              search backwards for a regular expression               ==                                                                                                #
#      ! shell-escape                invoke a command in a subshell                          ==                                                                                                #
#      * last-entry                  move to the last entry                                                                                                                                    #
#    1-9 jump                        jump to an index numer                                  ==                                                                                                #
#      : enter-command               enter a muttrc command                                  ==                                                                                                #
#      ; tag-preffix                 apply next function to tagged messages                                                                                                                    #
#      < previous-line                                                                                                                                                                         #
#      = first-entry                                                                                                                                                                           #
#      > next-line                                                                                                                                                                             #
#      H top-page                                                                                                                                                                              #
#      L bottom-page                                                                                                                                                                           #
#      M middle-page                                                                                                                                                                           #
#      Z previous-page                                                                                                                                                                         # 
#      [ half-up                                                                                                                                                                               #
#      ] half-down                                                                                                                                                                             #
#      j next-entry                                                                                                                                                                            #
#      k previous-entry                                                                                                                                                                        #
#      q exit                        exit this menu                                                                                                                                            #
#      t tag-entry                   tag the current entry                                                                                                                                     #
#   down next-entry                                                                                                                                                                            #
#     up previous-entry                                                                                                                                                                        #
#   left previous-page                                                                                                                                                                         #
#  right next-page                                                                                                                                                                             #
#   home first-entry                                                                                                                                                                           #
#  enter select-entry                                                                                                                                                                          #
#        next-unread-mailbox         open next mailbox with new mail                                                                                                                           #
#        imap-fetch-mail                                                                                                                                                                       #
#        next-new                    jump to the next new message                                                                                                                              #
#        previous-new                                                                                                                                                                          #
#        next-unread                                                                                                                                                                           #
#        previous-unread                                                                                                                                                                       #
#        sidebar-next                move the highlight to next mailbox                                                                                                                        #
#        sidebar-next-new            move the highlight to next mailbox with new mail                                                                                                          #
#        sidebar-open                open highlighted mailbox                                                                                                                                  #
#        sidebar-page-down           scroll the sidebar down 1 page                                                                                                                            #
#        sidebar-page-up                                                                                                                                                                       #
#        sidebar-prev                                                                                                                                                                          #
#        sidebar-prev-new                                                                                                                                                                      #
# *    p search-opposite             search for tnext match in opposite direction                                                                                                              #
#        current-top                 move entry to top of screen                                                                                                                               #
#        current-middle                                                                                                                                                                        #
#        current-bottom                                                                                                                                                                        #
#        what-key                    display the keycode for a key press                                                                                                                       #
